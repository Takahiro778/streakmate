@import "tailwindcss";

/* === theme tokens === */
@theme {
  --color-brand-50:#f5f9ff; --color-brand-100:#e9f1ff; --color-brand-200:#cfe0ff;
  --color-brand-300:#a8c6ff; --color-brand-400:#74a2ff; --color-brand-500:#3b7bff;
  --color-brand-600:#2f61d6; --color-brand-700:#254cad; --color-brand-800:#1f3f8c; --color-brand-900:#1b356f;

  --radius-lg: 0.5rem; --radius-xl: 0.75rem; --radius-2xl: 1rem;

  /* 任意の影は変数で管理し、@applyではなく box-shadow で使う */
  --shadow-card: 0 1px 6px 0 rgb(0 0 0 / 0.06);
  --shadow-btn:  0 1px 3px 0 rgb(0 0 0 / 0.08);
}

/* === components === */
@layer components {
  .card {
    @apply bg-white border border-gray-200 rounded-lg p-3 md:p-4;
    box-shadow: var(--shadow-card);
  }

  .btn-primary {
    @apply inline-flex items-center justify-center rounded-lg
           px-3 py-2 text-sm font-medium transition
           bg-brand-500 text-white hover:bg-brand-600
           focus:ring-2 focus:ring-brand-200;
    box-shadow: var(--shadow-btn);
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center rounded-lg
           px-3 py-2 text-sm font-medium transition
           bg-white text-brand-700 border border-brand-200 hover:bg-brand-50
           focus:ring-2 focus:ring-brand-200;
    box-shadow: var(--shadow-btn);
  }

  .btn-ghost {
    @apply inline-flex items-center justify-center rounded-lg
           px-3 py-2 text-sm font-medium transition
           bg-transparent text-brand-700 hover:bg-brand-50
           focus:ring-2 focus:ring-brand-200;
  }

  .badge { @apply inline-block text-xs px-2 py-0.5 rounded border bg-gray-50; }

  /* 自作クラスへの @apply はしない（同名クラスを入れ子にしないという意味） */
  .input {
    @apply w-full rounded-lg border px-3 py-2 text-sm
           focus:outline-none focus:ring-2 focus:ring-brand-200;
  }
  .select {
    @apply w-full rounded-lg border px-3 py-2 text-sm
           focus:outline-none focus:ring-2 focus:ring-brand-200;
  }
  .textarea {
    @apply w-full rounded-lg border px-3 py-2 text-sm
           focus:outline-none focus:ring-2 focus:ring-brand-200;
  }

  /* --- 追加: アイコン+ラベルの整列・タップ領域共通 --- */
  .icon-label { @apply inline-flex items-center justify-center gap-1.5; }
  .tap-target { @apply min-h-[44px] px-2 py-1; }

  /* --- 追加: フッターナビ用の小コンポーネント --- */
  .footer-link {
    /* アイコン+ラベルの縦詰めとタップ領域を統一 */
    @apply relative flex flex-col items-center justify-center gap-0.5
           min-h-[56px] pt-0.5;
  }
  .footer-label {
    /* 小さめでも読みやすい文字サイズに */
    @apply text-[11px] leading-none;
  }
  .footer-link--active { @apply text-slate-900 font-medium; }
  .footer-link--inactive { @apply text-slate-500 hover:text-slate-900; }
}

/* === utilities === */
@layer utilities {
  .safe-bottom { padding-bottom: calc(env(safe-area-inset-bottom) + 0.75rem); }
  .safe-top    { padding-top:    calc(env(safe-area-inset-top)    + 0.5rem); }

  /* --- 追加: 下線インジケータ（フッター用） --- */
  .active-underline {
    @apply absolute -bottom-px h-0.5 w-8 bg-slate-900 rounded;
  }
}
