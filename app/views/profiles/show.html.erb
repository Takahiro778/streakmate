<div class="container mx-auto max-w-xl p-6">
  <h2 class="text-2xl font-bold mb-4">マイページ</h2>

  <div class="flex items-center space-x-4 mb-6">
    <% if @profile.avatar.attached? %>
      <%= image_tag @profile.avatar.variant(resize_to_fill: [200, 200]), class: "rounded-full" %>
    <% else %>
      <%= image_tag "dummy_icon.png", size: "200x200", class: "rounded-full" %>
    <% end %>

    <div>
      <p class="text-xl font-semibold">
        <%= @profile.display_name.presence || current_user.nickname.presence || current_user.email %>
      </p>
      <p class="text-gray-600 text-sm">ユーザーID: <%= current_user.id %></p>
    </div>
  </div>

  <div class="mb-6">
    <h3 class="font-semibold mb-1">自己紹介</h3>
    <p class="whitespace-pre-wrap">
      <%= @profile.introduction.presence || "自己紹介は未設定です。" %>
    </p>
  </div>

  <%= link_to "プロフィールを編集する", edit_mypage_path, class: "px-4 py-2 bg-blue-500 text-white rounded" %>
</div>
