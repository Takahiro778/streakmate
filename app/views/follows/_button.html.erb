<%= turbo_frame_tag dom_id(user, :follow) do %>
  <% if user_signed_in? && current_user != user %>
    <% if current_user.following?(user) %>
      <%= button_to user_follow_path(user),
            method: :delete,
            form: { data: { turbo_submits_with: "処理中..." } },
            class: "px-3 py-1 rounded-2xl border text-sm inline-flex items-center gap-1.5" do %>
        <%= icon "user-minus", size: "w-4 h-4" %> フォロー中（解除）
      <% end %>
    <% else %>
      <%= button_to user_follow_path(user),
            method: :post,
            form: { data: { turbo_submits_with: "処理中..." } },
            class: "px-3 py-1 rounded-2xl bg-blue-600 text-white text-sm hover:opacity-90 inline-flex items-center gap-1.5" do %>
        <%= icon "user-plus", variant: :solid, size: "w-4 h-4" %> フォローする
      <% end %>
    <% end %>
  <% else %>
    <button disabled class="px-3 py-1 rounded-2xl border text-sm opacity-50 cursor-not-allowed inline-flex items-center gap-1.5">
      <%= icon "user-plus", size: "w-4 h-4" %> フォロー
    </button>
  <% end %>
<% end %>
