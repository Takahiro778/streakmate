<% if @comment.errors.any? %>
  <%= turbo_stream.replace dom_id(@comment) do %>
    <%= form_with model: [@log, @comment], data: { turbo_submits_with: "更新中..." } do |f| %>
      <div class="flex gap-2 p-2 border rounded-md bg-white">
        <%= f.text_area :body, rows: 2, maxlength: Comment::MAX_LEN,
              class: "flex-1 p-2 border rounded-md text-sm" %>
        <div class="flex flex-col gap-2">
          <%= f.submit "保存", class: "px-3 py-2 text-sm rounded-md bg-blue-600 text-white" %>
          <%= link_to "キャンセル", log_path(@log), data: { turbo: false }, class: "text-xs text-gray-500 underline text-center" %>
        </div>
      </div>
    <% end %>
  <% end %>
<% else %>
  <%= turbo_stream.replace dom_id(@comment) do %>
    <%= render "comments/comment", comment: @comment %>
  <% end %>
<% end %>
