# StreakMate

> ç¿’æ…£ã®ã€Œé€£ç¶šè¨˜éŒ²ï¼ˆStreakï¼‰ã€ã‚’ã€ä»²é–“ï¼ˆMateï¼‰ã¨å¿œæ´ã—åˆã„ãªãŒã‚‰ç©ã¿ä¸Šã’ã‚‹ç¿’æ…£åŒ–ã‚¢ãƒ—ãƒªã€‚ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã§ã€ã¾ãšã¯**è‡ªåˆ†ã®é€²æ—å¯è¦–åŒ–ã¨ç°¡å˜æŠ•ç¨¿**ã‚’æœ€å„ªå…ˆã« MVP ã‚’æ§‹ç¯‰ã—ã¦ã„ã¾ã™ã€‚

<div align="center">
  
![Home Screenshot](docs/screenshots/home.png)
  
*Mobile*
  
![Mobile Screenshot](docs/screenshots/mobile.png)

</div>

---

## âœ¨ ç‰¹é•·
- **æœ€å°æ‘©æ“¦ã®è¨˜éŒ²**ï¼šä»Šæ—¥/ä»Šé€±ã®è¨˜éŒ²ã‚’æœ€çŸ­æ“ä½œã§è¿½åŠ 
- **å¯è¦–åŒ–**ï¼šæœˆ/é€±ã®ç©ã¿ä¸Šã’ã‚’ã‚°ãƒ©ãƒ•ã§ä¿¯ç°ï¼ˆæ™‚é–“ãƒ»ä»¶æ•°ï¼‰
- **ã‚½ãƒ¼ã‚·ãƒ£ãƒ«**ï¼šãƒ•ã‚©ãƒ­ãƒ¼ã€å¿œæ´ï¼ˆğŸ‘ï¼‰ã€ã‚³ãƒ¡ãƒ³ãƒˆã€é€šçŸ¥ï¼ˆæ®µéšå°å…¥ï¼‰

---

## ğŸ§± æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **Framework**: Ruby on Rails 7
- **DB**: PostgreSQL
- **Auth**: Deviseï¼ˆäºˆå®š/å°å…¥æ¸ˆã«åˆã‚ã›ã¦æ˜è¨˜ï¼‰
- **UI**: Tailwind CSS
- **Job/Async**: ActiveJob + (Adapter TBD)
- **Infra**: Renderï¼ˆæœ¬ç•ªäºˆå®šï¼‰
- **Others**: Turbo/Stimulusï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

---

## ğŸ“± ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã®æ„å›³
æœ€ã‚‚åˆ©ç”¨é »åº¦ã®é«˜ã„ã‚·ãƒ¼ãƒ³ï¼ˆå¤–å‡ºä¸­ãƒ»ã‚¹ã‚­ãƒæ™‚é–“ï¼‰ã§ã€Œ**ã™ãé–‹ã„ã¦ã€ã™ãè¨˜éŒ²**ã€ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã€**ãƒ¢ãƒã‚¤ãƒ«å¹…**ã§ã®**é€Ÿåº¦/è¦–èªæ€§/ã‚¿ãƒƒãƒ—æ€§**ã‚’æœ€å„ªå…ˆã«è¨­è¨ˆã€‚PC ã§ã¯ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚„æŒ¯ã‚Šè¿”ã‚Šåˆ†æã‚’æ‹¡å¼µã—ã¦ã„ãã¾ã™ã€‚

---

## ğŸ—ºï¸ ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ï¼ˆæŠœç²‹ï¼‰
- **MVPï¼ˆç¾è¡Œï¼‰**ï¼šãƒ­ã‚°æŠ•ç¨¿ãƒ»ä»Šæ—¥/ä»Šé€±ãƒ“ãƒ¥ãƒ¼ãƒ»åŸºæœ¬ã‚°ãƒ©ãƒ•ãƒ»ç°¡æ˜“é€šçŸ¥
- **v1**ï¼šãƒ•ã‚©ãƒ­ãƒ¼/å¿œæ´/ã‚³ãƒ¡ãƒ³ãƒˆã®å®‰å®šåŒ–ã€å…¬é–‹ç¯„å›²ã€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
- **v1.1**ï¼šæœˆé–“ã‚µãƒãƒªãƒ¼ã€ç›®æ¨™åˆ¥ã®æ™‚é–“/ä»¶æ•°ã‚°ãƒ©ãƒ•
- **v2**ï¼šä»–ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é€²æ—ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã€æ¤œç´¢/ãƒ•ã‚£ãƒ«ã‚¿
- **v2.1**ï¼šãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼é«˜åº¦åŒ–ï¼ˆæ›œæ—¥/æ™‚é–“å¸¯ï¼‰ã€OGP å…±æœ‰

> è©³ç´°ã¯ Issues / Projects ã‚’å‚ç…§

---

## ğŸ› ï¸ ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º

### å‰æ
- Ruby / Bundler
- PostgreSQLï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰
- Node.js + Yarnï¼ˆã¾ãŸã¯ npmï¼‰
- ï¼ˆTailwind ã‚’ç›£è¦–ã™ã‚‹å ´åˆï¼‰`@rails/tailwindcss` å°å…¥æ¸ˆ

### 1) ã‚¯ãƒ­ãƒ¼ãƒ³ & ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
git clone <YOUR-REPO-URL>
cd streakmate
bin/setup


> `bin/setup` ãŒä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™ï¼š
>
> * `bundle install` / `yarn install`
> * `.env` ä¸åœ¨ãªã‚‰ `.env.example` ã‹ã‚‰ä½œæˆ
> * `bin/rails db:prepare`ï¼ˆcreate/migrateï¼‰
> * `bin/rails db:seed`ï¼ˆä»»æ„ï¼‰

### 2) èµ·å‹•

```bash
bin/dev
# => foreman/overmind ãŒã‚ã‚Œã° Procfile.dev ã§ web/css ã‚’ä¸¦è¡Œèµ·å‹•
# => ç„¡ã„å ´åˆã¯ Rails ã‚µãƒ¼ãƒã®ã¿èµ·å‹•
```

ã‚¢ã‚¯ã‚»ã‚¹: [http://localhost:\${APP\_PORT:-3000}](http://localhost:${APP_PORT:-3000}) ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ 3000ï¼‰

---

## ğŸ” ç’°å¢ƒå¤‰æ•°

é–‹ç™ºã§ã¯ `.env` ã§èª­ã¿è¾¼ã¿ã¾ã™ï¼ˆ**éµã¯çµ¶å¯¾ã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„**ï¼‰:

```
# ä¾‹: .env (å€¤ã¯è‡ªåˆ†ã®ç’°å¢ƒã«åˆã‚ã›ã¦è¨­å®š)
APP_NAME=StreakMate
APP_HOST=localhost
APP_PORT=3000
DB_HOST=localhost
DB_USER=postgres
DB_PASSWORD=
DB_NAME=streakmate_development
DB_TEST=streakmate_test
```

> å‚è€ƒãƒ•ã‚¡ã‚¤ãƒ«: `.env.example`
> **Render ã‚„æœ¬ç•ªã®æ‰‹é †/ç’°å¢ƒå¤‰æ•°ã¯ã€ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚**
>
> * ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šä¾‹: `DATABASE_URL`
> * è³‡æ ¼æƒ…å ±: `RAILS_MASTER_KEY`ï¼ˆRails credentials ä½¿ç”¨æ™‚ï¼‰
> * ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£éµï¼ˆPayJP ç­‰ï¼‰ã¯**ç’°å¢ƒå¤‰æ•°**ã§è¨­å®šã—ã€README ã«ã¯**å€¤ã‚’è¨˜è¼‰ã—ã¾ã›ã‚“**ã€‚

---

## ğŸ—ƒï¸ ER å›³ / ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ

### ER å›³

![ERå›³](docs/er.png)

### users

| Column   | Type   | Options                   |
| -------- | ------ | ------------------------- |
| email    | string | null: false, unique: true |
| password | string | null: false               |

**Association**

* has\_one \:profile
* has\_many \:goals
* has\_many \:logs
* has\_many \:cheers
* has\_many \:comments
* has\_many \:follows
* has\_many \:favorites
* has\_many \:notifications
* has\_one \:setting

### profiles

| Column   | Type       | Options                         |
| -------- | ---------- | ------------------------------- |
| user\_id | references | null: false, foreign\_key: true |
| name     | string     | null: false                     |
| avatar   | string     |                                 |
| bio      | text       |                                 |

**Association**

* belongs\_to \:user

### goals

| Column     | Type       | Options                         |
| ---------- | ---------- | ------------------------------- |
| user\_id   | references | null: false, foreign\_key: true |
| title      | string     | null: false                     |
| detail     | text       |                                 |
| is\_public | boolean    | default: true                   |

**Association**

* belongs\_to \:user
* has\_many \:logs
* has\_many \:comments
* has\_many \:favorites

### logs

| Column     | Type       | Options                         |
| ---------- | ---------- | ------------------------------- |
| user\_id   | references | null: false, foreign\_key: true |
| goal\_id   | references | null: false, foreign\_key: true |
| content    | text       |                                 |
| logged\_on | date       | null: false                     |

**Association**

* belongs\_to \:user
* belongs\_to \:goal
* has\_many \:cheers
* has\_many \:comments

### cheersï¼ˆã„ã„ã­ï¼‰

| Column   | Type       | Options                         |
| -------- | ---------- | ------------------------------- |
| user\_id | references | null: false, foreign\_key: true |
| log\_id  | references | null: false, foreign\_key: true |

**Association**

* belongs\_to \:user
* belongs\_to \:log
* add\_index \[:user\_id, \:log\_id], unique: true

### comments

| Column   | Type       | Options                         |
| -------- | ---------- | ------------------------------- |
| user\_id | references | null: false, foreign\_key: true |
| goal\_id | references | foreign\_key: true              |
| log\_id  | references | foreign\_key: true              |
| content  | text       | null: false                     |

**Association**

* belongs\_to \:user
* belongs\_to \:goal, optional: true
* belongs\_to \:log, optional: true

### followsï¼ˆè‡ªå·±å‚ç…§ï¼‰

| Column       | Type       | Options                                         |
| ------------ | ---------- | ----------------------------------------------- |
| follower\_id | references | null: false, foreign\_key: { to\_table: users } |
| followed\_id | references | null: false, foreign\_key: { to\_table: users } |

**Association**

* belongs\_to \:follower, class\_name: "User"
* belongs\_to \:followed, class\_name: "User"
* add\_index \[:follower\_id, \:followed\_id], unique: true

### favorites

| Column   | Type       | Options                         |
| -------- | ---------- | ------------------------------- |
| user\_id | references | null: false, foreign\_key: true |
| goal\_id | references | null: false, foreign\_key: true |

**Association**

* belongs\_to \:user
* belongs\_to \:goal
* add\_index \[:user\_id, \:goal\_id], unique: true

### notifications

| Column   | Type       | Options                         |
| -------- | ---------- | ------------------------------- |
| user\_id | references | null: false, foreign\_key: true |
| message  | string     | null: false                     |
| read     | boolean    | default: false                  |

**Association**

* belongs\_to \:user

### settings

| Column         | Type       | Options                         |
| -------------- | ---------- | ------------------------------- |
| user\_id       | references | null: false, foreign\_key: true |
| reminder\_time | time       | default: '23:00'                |
| reminder\_on   | boolean    | default: true                   |

**Association**

* belongs\_to \:user

---

## ğŸ—ƒï¸ Database Schema
![ERå›³](docs/er.png)

For full table definitions, see [docs/db_design.md](docs/db_design.md).

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆ / ãƒªãƒ³ãƒˆï¼ˆä»»æ„ï¼‰

```bash
bin/rails test      # or rspec
bundle exec rubocop
```

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆRenderï¼‰

* Render ã® **å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**ã«å¾“ã„ã€ä»¥ä¸‹ã‚’ç’°å¢ƒå¤‰æ•°ã§è¨­å®šã—ã¾ã™ï¼š

  * `RAILS_MASTER_KEY` / `DATABASE_URL` / ãã®ä»–ã‚­ãƒ¼
* æœ¬ãƒªãƒã‚¸ãƒˆãƒªã§ã¯ **éµå€¤ã¯ç®¡ç†ã—ã¾ã›ã‚“**ã€‚**ãƒªãƒ³ã‚¯å…ˆã‚¬ã‚¤ãƒ‰ã§å„è‡ªè¨­å®š**ã—ã¦ãã ã•ã„ã€‚

---

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

* TBD
